$(document).ready(function(){if($(".bg_").length<1){$("ul.menu-hori li.menu-pc > ul.menu-verti").after("<div class='bg_'></div>");}$("ul.menu-hori li.menu-pc > ul.menu-verti").mouseover(function(){$("body").addClass("hover-menu");$(".bg_").show();});$("ul.menu-hori li.menu-pc > ul.menu-verti").mouseleave(function(){$("body").removeClass("hover-menu")
$(".bg_").hide();});if($('.attr_fillter').length>0){$('.attr_fillter').scrollToFixed({marginTop:function(){var marginTop=$(window).height()-$('.attr_fillter').outerHeight(false)-(-12);if(marginTop>=0)return-12;return marginTop;},limit:$('.footer').offset().top-$('.attr_fillter .attr_fillter-hide').outerHeight()-12,zIndex:999});}if($(".search-kw").length>0){var _textkw=$(".search-kw").text();$(".wrap-right, .wrap-left").highlight(_textkw);}subiz_Fix();$(".table").each(function(){if($(this).parent('.table-responsive').length<1){$(this).wrap("<div class='table-responsive'></div>");}});if($("#owl-listslide").length>0){$("#owl-listslide").owlCarousel({navigation:true,slideSpeed:10,paginationSpeed:10,singleItem:true,loop:true,autoPlay:true,stopOnHover:true});}if($("#find_BTU").hasClass("find_BTU")){fFindBTU();}fixed_news()
var _boxLeftCorner=$(".ads-left-corner");var _boxLeftCornerAction=$(".ads-left-corner a.action");$(_boxLeftCornerAction).click(function(){if($(this).hasClass("close")){$(_boxLeftCorner).addClass("ads-left-corner-close");$(this).removeClass("close");$(this).addClass("open");}else{$(_boxLeftCorner).removeClass("ads-left-corner-close");$(this).removeClass("open");$(this).addClass("close");}});var _boxPromotion=$(".box-promotion");var _boxPromotionItem=$(".box-promotion .box-promotion-item");var _boxPromotionImage=$(".box-promotion .box-promotion-item .box-banner img");var _boxPromotionClose=$(".box-promotion .box-promotion-close");var _widthSite=$(window).width();var _heightSite=$(window).height();var _widthBoxImage=$(_boxPromotionImage).width();var _heightBoxImage=$(_boxPromotionImage).height();if(_widthBoxImage<100)_widthBoxImage=500;if(_heightBoxImage<100)_heightBoxImage=300;$(_boxPromotionItem).css({"width":""+_widthBoxImage+"px","height":""+_heightBoxImage+"px","left":""+(_widthSite-_widthBoxImage)/2+"px","top":""+(_heightSite-_heightBoxImage)/2+"px"});setTimeout(function(){$(_boxPromotion).removeClass("box-promotion-active");},10000);$(_boxPromotion).click(function(){$(_boxPromotion).removeClass("box-promotion-active");});$(_boxPromotionClose).click(function(){$(_boxPromotion).removeClass("box-promotion-active");});$("html").keyup(function(e){if(_boxPromotion!=null)if(e.which==27){$(_boxPromotion).removeClass("box-promotion-active");_boxPromotion=null;}});var _highStreet=$("#highstreet");var _highStreetAction=$("#highstreet .highstreet-inner .btn-highstreet a");$(_highStreetAction).click(function(){if($(this).attr("rel")=="true"){$(this).removeClass("open");$(this).attr({"rel":"false"});$(_highStreet).css({"height":"0px"});}else{$(this).addClass("open");$(this).attr({"rel":"true"});$(_highStreet).css({"height":"189px"});}});var _proPmListMenu=$(".pro-pm-list ul.pro-pm-list-menu li a");var _proPmListView=$(".pro-pm-list .pro-pm-list-box .pro-pm-item");$(_proPmListMenu).mouseenter(function(){$(_proPmListMenu).removeClass("active");$(this).addClass("active");$(_proPmListView).removeClass("pro-pm-item-active");$(_proPmListView).eq($(this).attr("rel")).addClass("pro-pm-item-active");});var _objBannerHomeTitle=$("ul.banner-home-title li a");var _objBannerHomeItem=$("ul.banner-home-item li");var _objBannerHomeItemImage_Current;var _currentBannerHomeItem=0;var refreshInterval_BannerHome=setInterval(function(){_currentBannerHomeItem+=1;if(_currentBannerHomeItem>=5)_currentBannerHomeItem=0;_objBannerHomeItemImage_Current=$(_objBannerHomeItem).eq(_currentBannerHomeItem).find("img");if($(_objBannerHomeItemImage_Current).attr("rel")!=""){$(_objBannerHomeItemImage_Current).attr("src",$(_objBannerHomeItemImage_Current).attr("rel"));$(_objBannerHomeItemImage_Current).attr("rel","");}$(_objBannerHomeItem).css({"display":"none"});$(_objBannerHomeItem).eq(_currentBannerHomeItem).css({"display":"block"});},200000);$(_objBannerHomeTitle).mouseenter(function(){clearInterval(refreshInterval_BannerHome);$(_objBannerHomeTitle).removeClass("active");$(this).addClass("active");_currentBannerHomeItem=$(this).parent().prevAll().length;$(_objBannerHomeItem).css({"display":"none"});_objBannerHomeItemImage_Current=$(_objBannerHomeItem).eq(_currentBannerHomeItem).find("img");if($(_objBannerHomeItemImage_Current).attr("rel")!=""){$(_objBannerHomeItemImage_Current).attr("src",$(_objBannerHomeItemImage_Current).attr("rel"));$(_objBannerHomeItemImage_Current).attr("rel","");}$(_objBannerHomeItem).eq(_currentBannerHomeItem).css({"display":"block"});}).mouseleave(function(){refreshInterval_BannerHome=setInterval(function(){_currentBannerHomeItem+=1;if(_currentBannerHomeItem>=5)_currentBannerHomeItem=0;_objBannerHomeItemImage_Current=$(_objBannerHomeItem).eq(_currentBannerHomeItem).find("img");if($(_objBannerHomeItemImage_Current).attr("rel")!=""){$(_objBannerHomeItemImage_Current).attr("src",$(_objBannerHomeItemImage_Current).attr("rel"));$(_objBannerHomeItemImage_Current).attr("rel","");}$(_objBannerHomeItem).css({"display":"none"});$(_objBannerHomeItem).eq(_currentBannerHomeItem).css({"display":"block"});},10000);});fCategory_Tree();fZoomProduct();fScroll_TBS();var _pathName=window.location.pathname;var _objMenuMouse=$(".menu-hori .menu-pc");var _objMenu=$(".menu-hori .menu-pc .menu-verti");if(_pathName=="/"){$(_objMenu).addClass("menu-verti-active");}else{$(_objMenuMouse).mouseenter(function(){$(_objMenu).fadeIn('slow');$(_objMenu).addClass("menu-verti-active");}).mouseleave(function(){$(_objMenu).css({'display':'none'});$(_objMenu).removeClass("menu-verti-active");});}var _objMenuVertiMouse=$("ul.menu-hori li.menu-pc ul.menu-verti li.menu-verti-i-0 a.a-menu-verti-0");var _objMenuVertiActive;var _objMenuHoriMouse;$(_objMenuVertiMouse).mouseenter(function(){_objMenuVertiActive=$(this);_objMenuVertiActive.addClass("a-menu-verti-0-active");_objMenuHoriMouse=$(this).parent("li.menu-verti-i-0").find("ul.menu-hori-1");$(_objMenuHoriMouse).addClass("menu-hori-1-active");$(_objMenuHoriMouse).mouseenter(function(){_objMenuVertiActive.addClass("a-menu-verti-0-active");$(this).addClass("menu-hori-1-active");}).mouseleave(function(){_objMenuVertiActive.removeClass("a-menu-verti-0-active");$(this).removeClass("menu-hori-1-active");});}).mouseleave(function(){$(this).removeClass("a-menu-verti-0-active");$(_objMenuHoriMouse).removeClass("menu-hori-1-active");});var _pIntroductAction=$(".p-introduct ul.p-introduct-title li a");var _pIntroductView=$(".p-introduct div.p-introduct-content");var _pIntroduct=$(".p-introduct");var _idPIntroductView;$(_pIntroductAction).click(function(){$(_pIntroductAction).removeClass("active");$(this).addClass("active");_idPIntroductView=$(this).attr('rel');$(_pIntroductView).removeClass("p-introduct-content-active");$(_pIntroduct).find(_idPIntroductView).addClass("p-introduct-content-active");});var _pOrderWarrantyAction=$(".p-order-warranty #productOrderWarrantyId");var _pOrderWarrantyPrice=$(".p-order-warranty .p-order-warranty-price");var _pDetailOrder_AddOrderWarranty=$(".pro-detail .p-order-buy");var _pDetailOrder_Val="";$(_pOrderWarrantyAction).change(function(){$(_pOrderWarrantyPrice).html($(this).find("option:selected").attr("rel"));_pDetailOrder_Val=$(_pDetailOrder_AddOrderWarranty).attr("href");_pDetailOrder_Val=_pDetailOrder_Val.split("++")[0]+"++"+$(this).val()+"+";$(_pDetailOrder_AddOrderWarranty).attr("href",_pDetailOrder_Val);});var _pPackageSpecialAction=$(".p-package-special ul.p-package-title a");var _pPackageSpecialView=$(".p-package-special ul.p-package-special");$(_pPackageSpecialAction).click(function(){$(_pPackageSpecialAction).removeClass("active");$(this).addClass("active");$(_pPackageSpecialView).removeClass("p-package-special-active");$(_pPackageSpecialView).eq($(this).attr('rel')).addClass("p-package-special-active");});var _pPackageAction=$(".p-packageaccesscombined ul.p-package-title a");var _pPackageView=$(".p-packageaccesscombined div.p-package-item");$(_pPackageAction).click(function(){$(_pPackageAction).removeClass("active");$(this).addClass("active");$(_pPackageView).removeClass("p-package-item-active");$(_pPackageView).eq($(this).attr('rel')).addClass("p-package-item-active");});var _pPackageAccessAction=$(".p-package-access .p-package-cb input:checkbox");var _pPackageAccessView=$(".p-package-access .p-package-right-access");var _pPackageAccessSelect=$(_pPackageAccessView).find(".p-pa-rg-select span");var _pPackageAccessPrice=$(_pPackageAccessView).find(".p-pa-rg-price");var _pPackageAccessPriceMarket=$(_pPackageAccessView).find(".p-pa-rg-pricemarket");var _pPackageAccessOrder=$(_pPackageAccessView).find(".p-pa-rg-order a");$(_pPackageAccessAction).click(function(){if($(this).attr('checked')){$(_pPackageAccessSelect).html(parseInt($(_pPackageAccessSelect).html())+1);$(_pPackageAccessPrice).attr({"rel":parseInt($(_pPackageAccessPrice).attr("rel"))+parseInt($(this).attr("rel"))});getFormatPrice($(_pPackageAccessPrice).attr("rel"),_pPackageAccessPrice);$(_pPackageAccessOrder).attr({"href":$(_pPackageAccessOrder).attr("href")+"+"+$(this).attr("id").replace("pa-pi-","")+"+"});}else{$(_pPackageAccessSelect).html(parseInt($(_pPackageAccessSelect).html())-1);$(_pPackageAccessPrice).attr({"rel":parseInt($(_pPackageAccessPrice).attr("rel"))-parseInt($(this).attr("rel"))});getFormatPrice($(_pPackageAccessPrice).attr("rel"),_pPackageAccessPrice);$(_pPackageAccessOrder).attr({"href":$(_pPackageAccessOrder).attr("href").replace("+"+$(this).attr("id").replace("pa-pi-","")+"+","")});}});});function fCategory_Tree(){var objTree_Root=$("ul.tree li.tree-i .a-tree-0");var objTree_Node;$(objTree_Root).mouseenter(function(){$(objTree_Root).parents(".tree-i-0").find("ul.tree-1").css({"display":"none"});objTree_Node=$(this).parents(".tree-i-0").find("ul.tree-1");objTree_Node.css({"display":"block"});$(objTree_Node).mouseenter(function(){}).mouseleave(function(){objTree_Node.css({"display":"none"});});}).mouseleave(function(){});}function fPosition_Fix(){var _height_ScrollTop_Detail=0;var _height_Fix=238;var _height_Limit=$(".wrap-pd").height();var _height_Position=0;var _objPosition_Fix=$(".wrap-pd .wrap-left-pd");var _objHiddenImage_Fix=$(".wrap-pd .wrap-left-pd .pro-image-list");var _objHiddenBox_Fix=$(".wrap-pd .wrap-left-pd .pro-price-fix");$(window).scroll(function(){_height_ScrollTop_Detail=$(window).scrollTop();_height_Limit=$(".wrap-pd").height();_height_Position=parseInt(parseInt(_height_ScrollTop_Detail)-parseInt(_height_Limit-347));if(parseInt(_height_ScrollTop_Detail)>parseInt(_height_Fix)&&_height_Position<0){if($(_objPosition_Fix).hasClass('wrap-left-pd-fix')==false){$(_objPosition_Fix).addClass('wrap-left-pd-fix');$(_objPosition_Fix).css({'top':'7px'});$(_objHiddenImage_Fix).addClass('pro-image-list-hidden');$(_objHiddenBox_Fix).removeClass('pro-price-fix-hidden');}}else if(parseInt(_height_ScrollTop_Detail)>parseInt(_height_Fix)){$(_objPosition_Fix).css({"top":"-"+parseInt(_height_Position)+"px"});}else if((parseInt(_height_ScrollTop_Detail)<parseInt(_height_Fix))){$(_objPosition_Fix).removeClass('wrap-left-pd-fix');$(_objHiddenImage_Fix).removeClass('pro-image-list-hidden');$(_objHiddenBox_Fix).addClass('pro-price-fix-hidden');}});};function subiz_Fix(){$(window).load(function(){$(window).scroll(function(){var _top=$(window).scrollTop();if($(".pro-detail").length>0){if(parseInt(_top)>247){$(".sbzon").addClass('subiz_left');}else{$(".sbzon").removeClass('subiz_left');}}});});}function fChangeImage(objAction,img){$(objAction).css({'display':'none'}).attr({'src':img}).fadeOut('slow');}function getFormatPrice(price,objAction){if(price!=""){$.ajax({url:"/eSystem/Shared/FormatPrice/?price="+price,type:"POST",data:"json",success:function(msg){$.each(msg,function(key,val){$(objAction).html(val);});}});}};function fActionYouTube(viewObjYouTube){$(viewObjYouTube).parent().html("<embed width='304' height='240' wmode='transparent' type='application/x-shockwave-flash' src='"+$(viewObjYouTube).attr("rel")+"&amp;autoplay=1&amp;rel=0&amp;loop=1&amp;playlist="+$(viewObjYouTube).attr("rel1")+"' />");};function SearchAutoComplete(urlPost,objThis,objAction){var _keyword=$(objThis).val();var _strResult="";if(_keyword.length>=3){urlGet=urlPost+_keyword
$.ajax({url:urlGet,type:"POST",data:"json",success:function(msg){var objJson=eval(msg);if(objJson!=null){for(var i=0;i<objJson.length;i++){_strResult+="<div class='autocomplete-item'>";_strResult+="<div class='img'>";_strResult+="<img src='"+objJson[i].ProductImageUrl+"'>";_strResult+="</div>";_strResult+="<div class='content'>";_strResult+="<a target='_blank' href='"+objJson[i].Href+"' title='"+objJson[i].ProductName+"'>"+objJson[i].ProductName+"</a>";_strResult+="<span>Model: "+objJson[i].Model+" - <span class='price'>Giá: "+objJson[i].ProductPrice+"</span></span>"
_strResult+="</div>";_strResult+="</div>";}$(objAction).html(_strResult);$(objAction).css({'display':'block'});$(objAction).mouseleave(function(){$(objAction).css({'display':'none'});});}else
$(objAction).css({'display':'none'});}});}else if(_keyword==''){$(objAction).css({'display':'none'});}};function fAjaxBegin_PL(){$('html, body').animate({scrollTop:250},500);};function fAjaxCallBack_PL(){fCategory_Tree();fZoomProduct();};function fZoomProduct(){var _objZP_Li=$("#ajax-temp-pro ul.temp-pro-item li.temp-pro-item-li");var _objZP_Li_Active=$("#ajax-temp-pro ul.temp-pro-item li.temp-pro-item-active");var _objZP_A=$("#ajax-temp-pro ul.temp-pro-item li.temp-pro-item-li a.zp");var _objZP_Li_Current;var _objZP_Rel_Current;var _objZP_Rel_Old;var _objZP_Li_Each;var _objZP_Rel_Each;var _addTop=0;var _sizeTop=0;var _sizeLeft=0;var _checkFirst=false;var _objProductUrl;var _objZP_Append;var _urlGetZP;var _strAppendZP;var _objJsonZP;var _zP_Product_Href;var _zP_Product_ProductName;var _zP_Product_ProductImageUrl;var _zP_Product_ProductPriceMarket;var _zP_Product_ProductPrice;var _zP_Product_Sku;var _zP_Product_Model;var _zP_Product_Description;var _zP_Product_SpecialOffer;var _zP_Product_ListProductImageUrl;$(_objZP_A).click(function(){_objZP_Li_Current=$(this).parent().parent();_objZP_Rel_Current=parseInt($(_objZP_Li_Current).attr("rel"));$(_objZP_Li_Current).addClass("temp-pro-item-active");_objZP_Append=$(_objZP_Li_Current).find("div.temp-pro-item-content");_objProductUrl=$(this).attr("rel");if(_objProductUrl.length>=3){_urlGetZP=""+_objProductUrl+"?do=mo-ta-ngan";$.ajax({url:_urlGetZP,type:"GET",success:function(msg){_strAppendZp=msg;$(_objZP_Append).html(_strAppendZp);fHoverLPI_ZP();}});}_sizeTop=(parseInt(_objZP_Rel_Current/4)+1)*252;$(_objZP_Li_Current).animate({width:"952px",height:"333px",top:""+_sizeTop+"px",left:"0"},500);_checkFirst=false;_addTop=0;_sizeTop=0;_sizeLeft=0;$(_objZP_Li).each(function(){_objZP_Rel_Each=parseInt($(this).attr("rel"));if(_objZP_Rel_Each!=_objZP_Rel_Current){if(_objZP_Rel_Each>_objZP_Rel_Current&&_checkFirst==false){if(parseInt((_objZP_Rel_Each-1)%4)==0&&(_objZP_Rel_Each-1)!=_objZP_Rel_Current){_addTop=335;_checkFirst=true;}}if($(this).hasClass("temp-pro-item-active")){_objZP_Rel_Old=parseInt($(this).attr("rel"));if(_objZP_Rel_Old>=(_objZP_Rel_Current+1)){_objZP_Rel_Old-=1;}_sizeTop=parseInt(_objZP_Rel_Old/4)*252+_addTop;_sizeLeft=parseInt(_objZP_Rel_Old%4)*244;$(this).animate({width:"220px",height:"250px",top:""+_sizeTop+"px",left:""+_sizeLeft+"px"},100);$(this).removeClass("temp-pro-item-active");}else{if(_objZP_Rel_Each<=_objZP_Rel_Current){_sizeTop=parseInt(_objZP_Rel_Each/4)*252+_addTop;_sizeLeft=parseInt(_objZP_Rel_Each%4)*244;$(this).css({"top":""+_sizeTop+"px","left":""+_sizeLeft+"px"});}else{_objZP_Rel_Each-=1;_sizeTop=parseInt(_objZP_Rel_Each/4)*252+_addTop;_sizeLeft=parseInt(_objZP_Rel_Each%4)*244;$(this).css({"top":""+_sizeTop+"px","left":""+_sizeLeft+"px"});}}}});return false;});};function fHoverLPI_ZP(){var _objLPI_ZP=$(".temp-pro-item-content .zp-pd-center ul li a");var _objLPI_ZP_View=$(".temp-pro-item-content .zp-pd-left p img");$(_objLPI_ZP).mouseenter(function(){$(_objLPI_ZP_View).attr({"src":""+$(this).attr("rel")+""});});};function fScroll_TBS(){var _obj_TBS_L=$(".pl-scroll a.pl-c-l");var _obj_TBS_R=$(".pl-scroll a.pl-c-r");var _obj_TBS_V=$(".pl-scroll .pl-c-c ul.pl-c-c-l");var _obj_TBS_D=940;var _obj_TBS_W=0-parseInt($(_obj_TBS_V).attr("rel"));var _obj_TBS_P_L=0;$(_obj_TBS_L).click(function(){_obj_TBS_P_L=parseInt($(_obj_TBS_V).css("left"));if(_obj_TBS_P_L<0)_obj_TBS_P_L=_obj_TBS_P_L+_obj_TBS_D;else
_obj_TBS_P_L=0;$(_obj_TBS_V).animate({left:""+_obj_TBS_P_L+"px"},200);});$(_obj_TBS_R).click(function(){_obj_TBS_P_L=parseInt($(_obj_TBS_V).css("left"));if(_obj_TBS_P_L-_obj_TBS_D>_obj_TBS_W)_obj_TBS_P_L=_obj_TBS_P_L-_obj_TBS_D;$(_obj_TBS_V).animate({left:""+_obj_TBS_P_L+"px"},200);});};function fixed_news(){var ofs_news=$(".wrap_news_middle > .temp-tree");if(ofs_news.length>0&&$(".news_fixed").length==0){var ofs_html=ofs_news.clone();$(".footer").after("<div class='news_fixed wrap_news_middle' style='display:none'></div>");$(".news_fixed").append(ofs_html);var ofs=ofs_news.offset().top;$(this).scrollTop()>=ofs?$(".news_fixed").show():$(".news_fixed").hide();$(window).scroll(function(){$(this).scrollTop()>=ofs?$(".news_fixed").show():$(".news_fixed").hide();});}};function fFindBTU(){var _this=$(".find_BTU"),_checkbox=$("input.dh-checkbox",_this),_textbox=$("input.textbox",_this);_checkbox.click(function(){var dataview=$(this).attr('data-view');var _findtextbox=$(this).parents("tr").find("input.textbox");if($(this).attr('checked')){_findtextbox.removeAttr("disabled");_findtextbox.focus();}else{_findtextbox.attr("disabled","disabled");}});_textbox.keyup(function(){var text=$(this).attr("value");var id=$(this).attr("alt");if(isNaN(text)){$(".row-"+id+" .col-4 span",_this).html("Bạn hãy nhập số!");}else{var btu=Calculate(text,id);var totalbtu=0;$(".row-"+id+" .col-4 span",_this).html("Công suất cần thiết : "+btu+" BTU/h");}if(text==""){$(this).parents("tr").find("span").html("");}});function Calculate(dt,area){switch(area){case"1":return Math.floor(dt*6+0.5)+"00";break;case"2":return Math.floor(dt*6.5+0.5)+"00";break;case"3":return Math.floor(dt*10+0.5)+"00";break;case"4":return Math.floor(dt*8+0.5)+"00";break;case"5":return Math.floor(dt*6.5+0.5)+"00";break;case"6":return Math.floor(dt*6.5+0.5)+"00";break;case"7":return Math.floor(dt*12+0.5)+"00";break;}}}